{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Line graph showing the income mean over time for different states with selection.",
  "data": {
    "url": "https://raw.githubusercontent.com/cyonjy/FIT3179/main/dv2/data/hh_income_state.csv",
    "format": { "type": "csv" }
  },
  "params": [
    {
      "name": "sel_state",
      "value": null,
      "select": {
        "type": "point",
        "on": "click",
        "fields": ["state"]
      },
      "bind": "legend"
    }
  ],
  "mark": "line",
  "encoding": {
      "x": {
      "field": "date",
      "type": "temporal",
      "title": "Date",
      "axis": { "grid": false }
    },
    "y": {
      "field": "income_mean",
      "type": "quantitative",
      "title": "Income Mean (RM)"
    },
    "color": {
      "field": "state",
      "type": "nominal",
      "title": "State",
      "scale": { "scheme": "category20" }
    },
    "opacity": {
      "condition": {
        "param": "sel_state",
        "value": 1.0
      },
      "value": 0.1
    },
    "tooltip": [
      { "field": "state", "type": "nominal", "title": "State" },
      { "field": "date", "type": "temporal", "title": "Date" },
      { "field": "income_mean", "type": "quantitative", "title": "Income Mean (RM)" }
    ]
  },
  "width": 800,
  "height": 400
}
